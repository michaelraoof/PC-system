<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />

    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
      integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.css" />

    <link rel="stylesheet" type="text/css" href="style.css" />
    <title>Beginner</title>
  </head>

  <body>
    <div id="logo">
      <p style="font-size: 50px; color: red;">
        <img src="gaming.png" width="80" height="80" />
        PC Recommender
      </p>
    </div>

    <header>
      <nav class="navbar navbar-expand-md">
        <button
          class="navbar-toggler"
          type="button"
          data-toggle="collapse"
          data-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav mr-auto navlinks">
            <li class="nav-item">
              <a class="nav-link" href="homeloged.html">
                <img src="home.png" width="37" height="37" />
                Home
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="build.html">
                <img src="pc.png" width="37" height="37" />
                BUILD
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="cat.html">
                <img src="menu.png" width="37" height="37" />
                Categories
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="./News/news.html">
                <img src="newspaper.png" width="37" height="37" />
                NEWS
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="http://localhost/mybb/forumdisplay.php?fid=2" target="_blank">
                <img src="foru.png" width="37" height="37" />
                FORUM
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="View_History.html" target="_blank">
                <img src="history.jpg" width="37" height="37" />
                History
              </a>
            </li>
          </ul>
        </div>
      </nav>
      <div>
        <div>
          <a class="nav-link" id="user" data-toggle="tooltip" data-placement="bottom" title="My Acc"
            href="./myaccount/signin.html">
            <img src="user.png" width="40" height="40" />
          </a>
        </div>
        <div>
          <a class="log_out" id="Loged" data-toggle="tooltip" data-placement="bottom" title="My Acc" href="#"></a>
        </div>
        <div class="log_out">
          <a id="log_outt" type="button" href="homeloged.html"></a>
        </div>
      </div>
    </header>

    <form name="beg-form" action method="post">
      <div class="q">
        <h3>WHAT'S YOUR BUDGET?</h3>
        <section>
          <div class=" ">
            <div>
              <select id="opt" class="select_int_Beg" name="service" tabindex="-1" aria-hidden="true">
                <option value="500">500</option>
                <option value="750">750</option>
                <option value="1000">1000</option>
                <option value="1500">1500</option>
                <option value="2000">2000</option>
                <option value="3000">3000</option>
                <option value="5000">5000</option>
              </select>
            </div>
            <span class="focus-input100"></span>
          </div>
        </section>
      </div>

      <div class="q">
        <h3>DO YOU HAVE A MAJOR?</h3>

        <section>
          <div>
            <input type="radio" id="control_01" name="select" value="CS" />
            <label for="control_01">
              <h4>Computer Science</h4>
            </label>
          </div>

          <div>
            <input type="radio" id="control_02" name="select" value="E" />
            <label for="control_02">
              <h4>Engineering</h4>
            </label>
          </div>
          <div>
            <input type="radio" id="control_03" name="select" value="S" />
            <label for="control_03">
              <h4>Science</h4>
            </label>
          </div>
          <div>
            <input type="radio" id="control_04" name="select" value="GD" />
            <label for="control_04">
              <h4>Graphic Design</h4>
            </label>
          </div>
          <div>
            <input type="radio" id="control_05" name="select" value="NO" />
            <label for="control_05">
              <h4>No</h4>
            </label>
          </div>
        </section>
      </div>

      <div class="q">
        <h3>USED FOR WORK?</h3>
        <section>
          <div>
            <input type="radio" id="control_06" name="select2" value="GRD" />
            <label for="control_06">
              <h4>Graphic Designer</h4>
            </label>
          </div>
          <div>
            <input type="radio" id="control_07" name="select2" value="GD" />
            <label for="control_07">
              <h4>Game Developer</h4>
            </label>
          </div>
          <div>
            <input type="radio" id="control_08" name="select2" value="VE" />
            <label for="control_08">
              <h4>Video Editor</h4>
            </label>
          </div>
          <div>
            <input type="radio" id="control_09" name="select2" value="DS" />
            <label for="control_09">
              <h4>Data Scientist</h4>
            </label>
          </div>
          <div>
            <input type="radio" id="control_10" name="select2" value="AI" />
            <label for="control_10">
              <h4>AI & Machine Learning</h4>
            </label>
          </div>
          <div>
            <input type="radio" id="control_11" name="select2" value="SE" />
            <label for="control_11">
              <h4>Software Engineering</h4>
            </label>
          </div>
          <div>
            <input type="radio" id="control_12" name="select2" value="NO" />
            <label for="control_12">
              <h4>NO</h4>
            </label>
            <div>
          </div>
        </section>
      </div>

      <div class="q">
        <h3>GAMING!</h3>

        <section>
          <div>
            <input type="radio" id="control_011" name="select3" value="NO" />
            <label for="control_011">
              <h4>NO</h4>
            </label>
          </div>
          <div> 
            <input type="radio" id="control_012" name="select3" value="YES" />
            <label for="control_012">
              <h4>YES</h4>
            </label>
          </div>
        </section>
      </div>

      <div class="submit_div">
        <br />
        <input type="button" id="btn" class="submit" value="Save" />
      </div>
    </form>
    <script type="text/javascript" src="./ip.js"></script>
    <script>
      const btn = document.querySelector("#btn");
      // handle click button
      btn.onclick = function () {
        const rbs = document.querySelectorAll('input[name="select"]');
      
        var selectors = [];
        selectors.push(document.getElementById('opt').value);
        for (const rb of rbs) {
          if (rb.checked) {
            if (rb.value != undefined && rb.value != null) {
              selectors.push(rb.value);
              break;
            }
          }
        }
     const rbs2 = document.querySelectorAll('input[name="select2"]');
 
       
        for (const rb of rbs2) {
          if (rb.checked) {
            if (rb.value != undefined && rb.value != null) {
              selectors.push(rb.value);
              break;
            }
          }
        }
         const rbs3 = document.querySelectorAll('input[name="select3"]');


        for (const rb of rbs3) {
          if (rb.checked) {
            if (rb.value != undefined && rb.value != null) {
              selectors.push(rb.value);
              break;
            }
          }
        }
        if(selectors.length==4){
           const opts = {

            Budget: selectors[0],
             Major:selectors[1],
             Work:selectors[2],
             Gaming:selectors[3]

          };
         
          fetch(`${ip}/api/users/buildbeginner`, {
            method: 'POST', // *GET, POST, PUT, DELETE, etc.
            // no-cors, *cors, same-origin
            cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached
            credentials: 'same-origin', // include, *same-origin, omit
            headers: {
              'Content-Type': 'application/json',

              // 'Content-Type': 'application/x-www-form-urlencoded',
            },
            redirect: 'follow', // manual, *follow, error
            referrerPolicy: 'no-referrer', // no-referrer, *client
            body: JSON.stringify(opts)
          })
            .then(Response => {
              return Response.json();
            }).then(
              (result) => {
             
                sessionStorage.setItem('Flag', result[0].Flag);
                location.replace('./submit_beginner.html');
              },
            )
            .catch(
              (err) => console.log(err)
            );
        }

      };
    </script>
    <script
      src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
      integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
      crossorigin="anonymous"
    ></script>

    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
      integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
      integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI"
      crossorigin="anonymous"
    ></script>
    <script>
      const first = document.getElementById("log_outt");
      first.addEventListener("click", function (e) {
        e.preventDefault();
        localStorage.clear();
        document.getElementById("Loged").innerHTML = "";
        document.getElementById("log_outt").innerHTML = "";

        location.replace("homeloged.html");
      });
    </script>
    <script>
      if (localStorage.getItem("token") !== null) {
        //in the sys
        console.log("in");
        document.getElementById("user").style.visibility = "hidden";
        document.getElementById("Loged").innerHTML = "Name: " + localStorage.getItem("name");
        document.getElementById("log_outt").innerHTML = "Log out";
      } else {
        //out the sys
        console.log("out");
        document.getElementById("user").style.visibility = "visible";
      }
    </script>
  </body>
</html>
